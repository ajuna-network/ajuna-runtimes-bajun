# Zombienet setup designed to test the runtime upgrade by refering to an old chain-spec.json.

[settings]
timeout = 10000

[relaychain]
default_command = "~/bin/polkadot"
default_args = [ "-lparachain=debug,xcm=trace" ]
chain = "rococo-local"

[[relaychain.nodes]]
name = "alice"
validator = true
ws_port = 9999

[[relaychain.nodes]]
name = "bob"
validator = true
ws_port = 9988

[[relaychain.nodes]]
name = "charlie"
validator = true
ws_port = 9977

[[parachains]]
id = 2000
addToGenesis = true
cumulus_based = true
# I use this to test the runtime upgrade. Run the new collators
# but use the old chain spec that has been generated with a node
# based on the current production runtime.
# Currently: v201.
chain_spec_path = "zombienet/bajun-rococo-localv201.json"
#chain_spec_path = "chain_dumps/template-rococo.json"

[parachains.collator]
name = "bajun-collator"
command = "~/bin/bajun-node-v300"
ws_port = 9955
rpc_port = 9956

[[parachains.collators]]
name = "bajun-collator-1"
validator = true
command = "~/bin/bajun-node-v300"
args = ["-lxcm=trace,runtime=debug"]
ws_port = 9954

[[parachains.collators]]
name = "bajun-collator-2"
validator = true
command = "~/bin/bajun-node-v300"
args = ["-lxcm=trace,runtime=debug"]
ws_port = 9955